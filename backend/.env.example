# ================================================================
# CONFIGURATION ENVIRONNEMENT - BaraCorrespondance AI
# ================================================================
# Instructions:
#   1. Copiez ce fichier: cp .env.example .env
#   2. Remplissez les valeurs avec vos vraies clés
#   3. Ne committez JAMAIS le fichier .env
# ================================================================

# ===== FLASK =====
FLASK_APP=main.py
FLASK_ENV=development  # Options: development, production, testing
FLASK_DEBUG=1          # 0 en production
SECRET_KEY=votre-cle-secrete-tres-longue-et-complexe-a-changer

# ===== BASE DE DONNÉES =====
# Développement (SQLite)
DATABASE_URL=sqlite:///baracorrespondance.db

# Production (PostgreSQL - Render, Railway, etc.)
# DATABASE_URL=postgresql://user:password@host:5432/dbname

# ===== JWT AUTHENTICATION =====
JWT_SECRET_KEY=votre-jwt-secret-key-a-changer
JWT_ACCESS_TOKEN_EXPIRES=3600      # Durée en secondes (1h)
JWT_REFRESH_TOKEN_EXPIRES=2592000  # Durée en secondes (30 jours)

# ===== UPLOADS =====
UPLOAD_FOLDER=app/static/uploads
MAX_CONTENT_LENGTH=10485760  # 10 MB en octets

# ===== IA - ANALYSE DE CV =====
# Google Gemini API (GRATUIT - Recommandé)
# Obtenez votre clé sur: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=votre-cle-api-gemini

# OpenAI API (Alternative payante - optionnel)
# Laissez vide si vous utilisez Gemini
# OPENAI_API_KEY=sk-votre-cle-api-openai
# OPENAI_MODEL=gpt-4o-mini

# ===== EMAIL (SMTP) =====
# Gmail SMTP (recommandé pour dev/prod)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=votre-email@gmail.com
MAIL_PASSWORD=votre-mot-de-passe-app  # Utilisez "App Password" pour Gmail
MAIL_DEFAULT_SENDER=noreply@baracorrespondance.com

# Notifications par email
MAIL_NOTIFICATION_ENABLED=True

# ===== VIDÉO-CONFÉRENCE (Daily.co) =====
# Obtenez vos clés sur: https://dashboard.daily.co
DAILY_API_KEY=votre-daily-api-key
DAILY_WEBHOOK_SECRET=votre-daily-webhook-secret
DAILY_ROOM_EXPIRY_MINUTES=120  # Durée d'expiration des rooms (2h par défaut)

# ===== NOTIFICATIONS PUSH (Web Push API) =====
# Générez les clés VAPID avec: python backend/generate_vapid_keys.py
VAPID_PRIVATE_KEY=votre-vapid-private-key
VAPID_PUBLIC_KEY=votre-vapid-public-key
VAPID_SUBJECT=mailto:admin@baracorrespondance.com

# ===== DIGESTS (Email quotidiens/hebdomadaires) =====
DIGEST_ENABLED=True
DIGEST_DAILY_TIME=09:00    # Format HH:MM (heure locale)
DIGEST_WEEKLY_DAY=monday   # Options: monday, tuesday, etc.
DIGEST_WEEKLY_TIME=09:00

# ===== CORS (Frontend Origins) =====
# Développement
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Production (à modifier avec votre domaine)
# CORS_ORIGINS=https://bara-frontend.onrender.com,https://baracorrespondance.com

# ===== MATCHING ALGORITHM =====
MATCHING_THRESHOLD=60           # Score minimum pour notifier (0-100)
AUTO_MATCH_ENABLED=True         # Activer le matching automatique
MATCHING_SCHEDULE_INTERVAL=3600 # Intervalle en secondes (1h)

# ===== RATE LIMITING (Optionnel) =====
# RATELIMIT_ENABLED=True
# RATELIMIT_DEFAULT=200 per day;50 per hour

# ===== SENTRY (Monitoring - Optionnel) =====
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# ===== REDIS (Cache & Celery - Optionnel) =====
# REDIS_URL=redis://localhost:6379/0
# CELERY_BROKER_URL=redis://localhost:6379/0

# ===== LOGS =====
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# ===== AUTRES =====
PYTHONUNBUFFERED=1  # Important pour Render/Railway logs
TZ=Europe/Paris     # Timezone
